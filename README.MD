# API Game List

API RESTful desenvolvida com Spring Boot, baseada no projeto **DSList
Backend** do intensivo Java Spring (DevSuperior). O objetivo √© gerenciar
listas de jogos, permitindo consulta, categoriza√ß√£o e reordena√ß√£o por
posi√ß√£o.

------------------------------------------------------------------------

## üöÄ Vis√£o geral

-   Utiliza arquitetura em camadas (Controller ‚Üí Service ‚Üí Repository)
-   Exposi√ß√£o de APIs REST consum√≠veis por frontends (Web, Mobile, etc.)
-   Dados iniciais carregados via `import.sql` (listas e games com
    posi√ß√µes)
-   Reordenamento de jogos em listas por meio de endpoint dedicado

------------------------------------------------------------------------

## üõ† Tecnologias principais

-   **Linguagem**: Java 21\
-   **Framework**: Spring Boot\
-   **Persist√™ncia**: Spring Data JPA (com H2 em teste e Postgres em
    dev/prod)\
-   **Cache SQL**: perfis `test`, `dev`, `prod` configurados em
    `application-*.properties`\
-   **CORS** controlado por `WebConfig` (origens permitidas
    configur√°veis)\
-   **Execu√ß√£o**: via `mvnw spring-boot:run`\
-   **Seed inicial**: via `import.sql` (listas, jogos, belonging, etc.)

------------------------------------------------------------------------

## ‚öôÔ∏è Perfis de execu√ß√£o

  -----------------------------------------------------------------------
Perfil      Banco de dados          Configura√ß√£o destacada
  ----------- ----------------------- -----------------------------------
**test**    H2 (em mem√≥ria)         H2 Console habilitado, logs SQL
(padr√£o)                            ativos

**dev**     PostgreSQL local        Conex√£o com DB externo
(configur√°vel)

**prod**    Postgres em cloud       Configur√°vel via vari√°veis de
ambiente
  -----------------------------------------------------------------------

### Exemplo `application-test.properties`

``` properties
spring.datasource.url=jdbc:h2:mem:testdb
spring.h2.console.enabled=true
spring.h2.console.path=/h2-console
spring.jpa.show-sql=true
spring.jpa.properties.hibernate.format_sql=true
```

### Exemplo `WebConfig.java`

``` java
@Configuration
public class WebConfig {
  @Value("${cors.origins}") private String corsOrigins;

  @Bean
  public WebMvcConfigurer corsConfigurer() {
    return new WebMvcConfigurer() {
      @Override
      public void addCorsMappings(CorsRegistry registry) {
        registry.addMapping("/**")
                .allowedMethods("*")
                .allowedOrigins(corsOrigins);
      }
    };
  }
}
```

------------------------------------------------------------------------

## üìå Endpoints dispon√≠veis

-   `GET /games` --- Retorna todos os jogos dispon√≠veis\
-   `GET /games/{id}` --- Detalhes de um jogo espec√≠fico\
-   `GET /lists` --- Retorna listas de categorias (ex: "Aventura e
    RPG")\
-   `GET /lists/{id}/games` --- Jogos pertencentes a uma lista, na ordem
    definida\
-   `POST /lists/{listId}/replacement` --- Atualiza a posi√ß√£o de um jogo
    na lista (`body`: { "gameId": X, "newPosition": Y })

------------------------------------------------------------------------

## ‚ñ∂Ô∏è Como executar

1.  **Clone o reposit√≥rio**

    ``` bash
    git clone https://github.com/AllissonCamargo/api-game-list.git
    cd api-game-list
    ```

2.  **Executar com perfil padr√£o (`test`, uso de H2)**

    ``` bash
    ./mvnw spring-boot:run
    ```

3.  **Para usar perfil `dev` (PostgreSQL local)**

    ``` bash
    ./mvnw spring-boot:run -Dspring-boot.run.profiles=dev
    ```

4.  **Acessar a API**

    -   Endpoints via `http://localhost:8080`
    -   H2 Console (se em `test`): `http://localhost:8080/h2-console`

------------------------------------------------------------------------

## üóÑ Seed inicial (import.sql)

O projeto j√° popula o banco com: - **Listas** (`tb_game_list`) como
"Aventura e RPG", "Jogos de plataforma" - **Jogos** (`tb_game`) com
t√≠tulo, pontua√ß√£o, ano, g√™nero, plataformas, URLs de imagem, e
descri√ß√µes - **Posicionamento** (`tb_belonging`) para cada par
jogo/lista, controlando a ordem de exibi√ß√£o

------------------------------------------------------------------------

## üìå Pr√≥ximos passos sugeridos

-   Adicionar testes automatizados (unit√°rios e de integra√ß√£o)
-   Adicionar autentica√ß√£o (por exemplo, JWT)
-   Implementar endpoints de CRUD completo (incluindo cria√ß√£o/exclus√£o
    de listas e jogos)
-   Automatizar deploy (com Docker e `docker-compose`)
-   Empacotar frontend React para ser servido junto do backend (em
    `/static`)

------------------------------------------------------------------------

## üìú Licen√ßa

Distribu√≠do sob a licen√ßa MIT --- sinta-se √† vontade para usar,
modificar e compartilhar.

------------------------------------------------------------------------

## üôè Agradecimentos

Projeto base: **DSList Backend** do **DevSuperior**, ministrado pelo
professor N√©lio Alves.\